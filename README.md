# Github-CVE-Listener
Get latest CVE EXP/POC from GitHub in WeChat!
## Tips  
* The Program runs with Github Actions, no need to use your own server
* [Chinese Version](https://github.com/Kira-Pgr/Github-CVE-Listener/blob/main/README.md)
## Usage
* **preparations**
  * **WeChat ”Server酱“**
     * [Log in](https://sct.ftqq.com/login)
        > Notice: If the QR Code doesn't load, try to open the image in a new tab
        > ![image](https://github.com/Kira-Pgr/Github-CVE-Listener/blob/main/Images/Login.png)
     *  Copy your [SendKey](https://sct.ftqq.com/sendkey) for later use
        ![SendKey](https://github.com/Kira-Pgr/Github-CVE-Listener/blob/main/Images/SendKey.png)
  * **GitHub**
     * fork my repo 
       Sign up or log into your GitHub account and click the "fork" botton on the page  
       ![Fork](https://github.com/Kira-Pgr/Github-CVE-Listener/blob/main/Images/Fork.png)  
       After that, a repo with the same name and code will show up in your account.   
       Following the steps below in **your repository**
       
     * Create a new GitHub Personal Access Token    
         1）Go to the New Token [Page](https://github.com/settings/tokens/new)  
         2）设置名字为 `GH_TOKEN` , 然后勾选repo，过期时间选择永不过期，点击 `Generate token` ，最后**复制保存**生成的github密钥  
         > **注意！一旦离开页面下次就看不到了！**  
         
         ![Fork](https://github.com/Kira-Pgr/Github-CVE-Listener/blob/main/Images/Token.png)
     * 新建secret   
         1）依次点击页面上栏右边的 Setting -> 左栏 Secrets -> 右上 New repository secret，新建3个secret：名字分别为`GH_TOKEN` `SCKEY`  `TOTAL_COUNT`  
         2）填写每个Secret的值  
            `GH_TOKEN`填写你获得的GitHub密钥    
            `SCKEY`填写你的SendKey  
             `TOTAL_COUNT`填0  
         > **注意！填入内容注意前后不要有空格空行**  
         
         ![Secret](https://github.com/Kira-Pgr/Github-CVE-Listener/blob/main/Images/Secret.png)  
* **运行**
  * 点击上栏中间的Action进入运行日志页面，中间应该有个绿色按钮（I understand my workflow...），点击。
  * 自动刷新后，会看到左边有一个叫`CVE-Monitor`的流程，流程名字前面应该是有黄色感叹号的
  * 点进去，然后会看到有个黄条（this schedule was disabled......）
  * 点击 enable workflow 按钮
    >（并不是很确定是否都需要进行以上4个步骤，如果你没有出现这种情况，直接忽略掉好啦 = = ）  
  
  * 点击两次右上角的星星（star，在fork按钮的旁边）启动action
  * 再点击上面的Action选择`CVE-Monitor`流程 -> `build` -> `Monitor CVE` 就能看到每次的运行日志,看看有没有报错
  * 没有报错的话微信里应该就会有推送了
  * 最后，再检查一下Secrets页面，应该能看到`TOTAL_COUNT`那一栏显示刚刚更新了
 
## 补充
  * 程序默认是每10分钟监测一下GitHub上有没有和CVE相关的repo更新，如果你想修改，可以在[AutoRun.yml](https://github.com/Kira-Pgr/Github-CVE-Listener/blob/main/.github/workflows/AutoRun.yml)中依照[文档](https://docs.github.com/en/actions/reference/events-that-trigger-workflows#scheduled-events)修改
    > **注意! 两次监测间隔时间不得小于5分钟**
  
  * Tip: 在修改时，贴心的GitHub会提示间隔的时间  
  ![image](https://github.com/Kira-Pgr/Github-CVE-Listener/blob/main/Images/schedule.png)  
  * 如果遇到什么问题或者有什么建议，欢迎在Issues中提出
  
ref:   
*https://github.com/kiang70/Github-Monitor/*  
*https://github.com/Hostage-02/AutoApi*
