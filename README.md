# Github-CVE-Listener
Updating ReadMe~
Get latest CVE EXP/POC from GitHub in WeChat!
## Tips  
* The Program runs with Github Actions, no need to use your own server
* [Chinese Version](https://github.com/Kira-Pgr/Github-CVE-Listener/blob/main/README.md)
## Usage
* **preparations**
  * **WeChat ”Server酱“**
     * [Log in](https://sct.ftqq.com/login)
        > Notice: If the QR Code doesn't load, try to open the image in a new tab
        > ![image](https://github.com/Kira-Pgr/Github-CVE-Listener/blob/main/Images/Login.png)
     *  Copy your [SendKey](https://sct.ftqq.com/sendkey) for later use
        ![SendKey](https://github.com/Kira-Pgr/Github-CVE-Listener/blob/main/Images/SendKey.png)
  * **GitHub**
     * fork my repo 
       Sign up or log into your GitHub account and click the "fork" botton on the page  
       ![Fork](https://github.com/Kira-Pgr/Github-CVE-Listener/blob/main/Images/Fork.png)  
       After that, a repo with the same name and code will show up in your account.   
       Following the steps below in **your repository**
       
     * Create a new GitHub Personal Access Token    
         1）Go to the New Token [Page](https://github.com/settings/tokens/new)  
         2）Set note to `GH_TOKEN` , select "repo"，set expiration to no expiration，click `Generate token` ，and remember to **COPY AND SAVE** your token  
         > **Attention! Once you leave the page, you won't able to see your token any more!**  
         
         ![Fork](https://github.com/Kira-Pgr/Github-CVE-Listener/blob/main/Images/Token.png)
     * Create a new repository secret   
         1）Go to Setting -> Secrets -> New repository secret，Create 3 secrets：Name them `GH_TOKEN` `SCKEY`  `TOTAL_COUNT`  
         2）Update the values  
            The value of  `GH_TOKEN`: Your GitHub Personal Access Token 
            The value of  `SCKEY`: Your SendKey
            The value of  `TOTAL_COUNT`: 0
         > **No spaces or line breaks is allowed at either the start or the end**  
         
         ![Secret](https://github.com/Kira-Pgr/Github-CVE-Listener/blob/main/Images/Secret.png)  
* **Run the program**
  * Go to the Action Tab，Click the green button（I understand my workflow...) in the middle
  * After refreshing the page，you'll see a workflow called `CVE-Monitor`，there should be a yellow exclamation mark on it
  * Click the `CVE-Monitor` workflow，You'll see a notice（this schedule was disabled......）
  * Press `enable workflow` button
    >（If you didn't experience the problem, just ignore what I've just said = = ）  
  
  * Click star twice to start the workflow
  * 再点击上面的Action选择`CVE-Monitor`流程 -> `build` -> `Monitor CVE` 就能看到每次的运行日志,看看有没有报错
  * 没有报错的话微信里应该就会有推送了
  * 最后，再检查一下Secrets页面，应该能看到`TOTAL_COUNT`那一栏显示刚刚更新了
 
## 补充
  * 程序默认是每10分钟监测一下GitHub上有没有和CVE相关的repo更新，如果你想修改，可以在[AutoRun.yml](https://github.com/Kira-Pgr/Github-CVE-Listener/blob/main/.github/workflows/AutoRun.yml)中依照[文档](https://docs.github.com/en/actions/reference/events-that-trigger-workflows#scheduled-events)修改
    > **注意! 两次监测间隔时间不得小于5分钟**
  
  * Tip: 在修改时，贴心的GitHub会提示间隔的时间  
  ![image](https://github.com/Kira-Pgr/Github-CVE-Listener/blob/main/Images/schedule.png)  
  * 如果遇到什么问题或者有什么建议，欢迎在Issues中提出
  
ref:   
*https://github.com/kiang70/Github-Monitor/*  
*https://github.com/Hostage-02/AutoApi*
